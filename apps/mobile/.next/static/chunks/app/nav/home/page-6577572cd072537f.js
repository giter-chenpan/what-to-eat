(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[610],{6449:function(e,t,r){Promise.resolve().then(r.bind(r,4769))},9534:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n,a,i=r(5211);(n=a||(a={})).Json="application/json",n.FormData="multipart/form-data",n.UrlEncoded="application/x-www-form-urlencoded",n.Text="text/plain";class s{mergeRequestParams(e,t){let r=e.method||t&&t.method;return{...this.instance.defaults,...e,...t||{},headers:{...r&&this.instance.defaults.headers[r.toLowerCase()]||{},...e.headers||{},...t&&t.headers||{}}}}stringifyFormItem(e){return"object"==typeof e&&null!==e?JSON.stringify(e):"".concat(e)}createFormData(e){return e instanceof FormData?e:Object.keys(e||{}).reduce((t,r)=>{let n=e[r];for(let e of n instanceof Array?n:[n]){let n=e instanceof Blob||e instanceof File;t.append(r,n?e:this.stringifyFormItem(e))}return t},new FormData)}constructor({securityWorker:e,secure:t,format:r,...n}={}){this.securityData=null,this.setSecurityData=e=>{this.securityData=e},this.request=async e=>{let{secure:t,path:r,type:n,query:a,format:i,body:s,...o}=e,u=("boolean"==typeof t?t:this.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},c=this.mergeRequestParams(o,u),l=i||this.format||void 0;return"multipart/form-data"===n&&s&&null!==s&&"object"==typeof s&&(s=this.createFormData(s)),"text/plain"===n&&s&&null!==s&&"string"!=typeof s&&(s=JSON.stringify(s)),this.instance.request({...c,headers:{...c.headers||{},...n?{"Content-Type":n}:{}},params:a,responseType:l,data:s,url:r})},this.instance=i.Z.create({...n,baseURL:n.baseURL||""}),this.secure=t,this.format=r,this.securityWorker=e}}class o extends s{constructor(...e){var t;super(...e),t=this,this.home=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.request({path:"/",method:"GET",...e})},this.anon={authLogin:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.request({path:"/anon/login",method:"POST",body:e,type:"application/json",format:"json",...r})},authRegister:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.request({path:"/anon/register",method:"POST",body:e,type:"application/json",format:"json",...r})}},this.api={authGetUserInfo:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.request({path:"/api/getuserinfo",method:"GET",secure:!0,format:"json",...e})},apiCategoryImportCategory:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.request({path:"/api/category/import",method:"POST",body:e,secure:!0,type:"multipart/form-data",format:"json",...r})},apiCategoryGetCategory:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.request({path:"/api/category",method:"GET",query:e,secure:!0,format:"json",...r})},apiCategoryDeleteCategory:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.request({path:"/api/category/delete",method:"DELETE",query:e,secure:!0,format:"json",...r})},apiDishesSaveDishes:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.request({path:"/api/dishes/save",method:"POST",body:e,secure:!0,type:"application/json",format:"json",...r})},apiDishesFindPage:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.request({path:"/api/dishes/findpage",method:"POST",body:e,secure:!0,type:"application/json",format:"json",...r})},apiDishesGetRandomDishes:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.request({path:"/api/dishes/random",method:"GET",secure:!0,format:"json",...e})},apiFileUploadFile:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.request({path:"/api/file/uploadimage",method:"POST",body:e,secure:!0,type:"multipart/form-data",format:"json",...r})},apiFileGetImage:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.request({path:"/api/file/getimage",method:"GET",query:e,format:"json",...r})}}}}var u=r(724);let c=new o({timeout:1e3});c.instance.interceptors.request.use(function(e){return e.headers.Authorization=localStorage.getItem("token"),e},function(e){return Promise.reject(e)}),c.instance.interceptors.response.use(function(e){return"success"!==e.data.code?(u.FN.show({content:e.data.msg||"请求失败",icon:"fail"}),Promise.reject(e)):e.data},function(e){return 401===e.status&&window.location.replace("/login"),Promise.reject(e)});var l=c},4769:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return s}});var n=r(9075),a=r(724),i=r(9534);function s(){let e=async()=>{let{data:e}=await i.Z.api.apiDishesGetRandomDishes();a.u_.show({content:(0,n.jsxs)("div",{className:"text-center flex flex-col items-center",children:[(0,n.jsx)("div",{className:"font-bold text-xl",children:e.name}),(0,n.jsx)(a.Ee,{src:"/api/file/getimage?id=".concat(e.view_id),width:200,height:200}),(0,n.jsx)("div",{className:"text-sm text-gray-500",children:e.desc})]}),closeOnMaskClick:!0})};return(0,n.jsx)("main",{className:"p-4 h-full flex justify-center items-center flex-col",children:(0,n.jsx)(a.zx,{color:"primary",onClick:e,style:{"--border-radius":"999px",padding:"45px 25px",fontSize:"26px"},children:"选一个"})})}}},function(e){e.O(0,[724,211,852,999,744],function(){return e(e.s=6449)}),_N_E=e.O()}]);