(()=>{var e={};e.id=626,e.ids=[626],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},9968:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>d,originalPathname:()=>p,pages:()=>u,routeModule:()=>h,tree:()=>c});var r=s(8090),a=s(9409),i=s(1522),o=s.n(i),n=s(1305),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);s.d(t,l);let c=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8339)),"/Users/chenpan/Documents/doc/my-project/what-to-eat/apps/mobile/app/login/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,5543))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,7776)),"/Users/chenpan/Documents/doc/my-project/what-to-eat/apps/mobile/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,111,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,5543))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["/Users/chenpan/Documents/doc/my-project/what-to-eat/apps/mobile/app/login/page.tsx"],p="/login/page",d={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3101:(e,t,s)=>{Promise.resolve().then(s.bind(s,2834))},9927:(e,t,s)=>{Promise.resolve().then(s.bind(s,448))},2516:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,1170,23)),Promise.resolve().then(s.t.bind(s,3082,23)),Promise.resolve().then(s.t.bind(s,6181,23)),Promise.resolve().then(s.t.bind(s,5381,23)),Promise.resolve().then(s.t.bind(s,6205,23)),Promise.resolve().then(s.t.bind(s,4266,23))},4569:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var r,a=s(4222);!function(e){e.Json="application/json",e.FormData="multipart/form-data",e.UrlEncoded="application/x-www-form-urlencoded",e.Text="text/plain"}(r||(r={}));class i{constructor({securityWorker:e,secure:t,format:s,...r}={}){this.securityData=null,this.setSecurityData=e=>{this.securityData=e},this.request=async({secure:e,path:t,type:s,query:r,format:a,body:i,...o})=>{let n=("boolean"==typeof e?e:this.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},l=this.mergeRequestParams(o,n),c=a||this.format||void 0;return"multipart/form-data"===s&&i&&null!==i&&"object"==typeof i&&(i=this.createFormData(i)),"text/plain"===s&&i&&null!==i&&"string"!=typeof i&&(i=JSON.stringify(i)),this.instance.request({...l,headers:{...l.headers||{},...s?{"Content-Type":s}:{}},params:r,responseType:c,data:i,url:t})},this.instance=a.Z.create({...r,baseURL:r.baseURL||""}),this.secure=t,this.format=s,this.securityWorker=e}mergeRequestParams(e,t){let s=e.method||t&&t.method;return{...this.instance.defaults,...e,...t||{},headers:{...s&&this.instance.defaults.headers[s.toLowerCase()]||{},...e.headers||{},...t&&t.headers||{}}}}stringifyFormItem(e){return"object"==typeof e&&null!==e?JSON.stringify(e):`${e}`}createFormData(e){return e instanceof FormData?e:Object.keys(e||{}).reduce((t,s)=>{let r=e[s];for(let e of r instanceof Array?r:[r]){let r=e instanceof Blob||e instanceof File;t.append(s,r?e:this.stringifyFormItem(e))}return t},new FormData)}}class o extends i{constructor(...e){super(...e),this.home=(e={})=>this.request({path:"/",method:"GET",...e}),this.anon={authLogin:(e,t={})=>this.request({path:"/anon/login",method:"POST",body:e,type:"application/json",format:"json",...t}),authRegister:(e,t={})=>this.request({path:"/anon/register",method:"POST",body:e,type:"application/json",format:"json",...t})},this.api={authGetUserInfo:(e={})=>this.request({path:"/api/getuserinfo",method:"GET",secure:!0,format:"json",...e}),apiCategoryImportCategory:(e,t={})=>this.request({path:"/api/category/import",method:"POST",body:e,secure:!0,type:"multipart/form-data",format:"json",...t}),apiCategoryGetCategory:(e,t={})=>this.request({path:"/api/category",method:"GET",query:e,secure:!0,format:"json",...t}),apiCategoryDeleteCategory:(e,t={})=>this.request({path:"/api/category/delete",method:"DELETE",query:e,secure:!0,format:"json",...t}),apiDishesSaveDishes:(e,t={})=>this.request({path:"/api/dishes/save",method:"POST",body:e,secure:!0,type:"application/json",format:"json",...t}),apiDishesFindPage:(e,t={})=>this.request({path:"/api/dishes/findpage",method:"POST",body:e,secure:!0,type:"application/json",format:"json",...t}),apiDishesGetRandomDishes:(e={})=>this.request({path:"/api/dishes/random",method:"GET",secure:!0,format:"json",...e}),apiFileUploadFile:(e,t={})=>this.request({path:"/api/file/uploadimage",method:"POST",body:e,secure:!0,type:"multipart/form-data",format:"json",...t}),apiFileGetImage:(e,t={})=>this.request({path:"/api/file/getimage",method:"GET",query:e,format:"json",...t})}}}var n=s(1928);let l=new o({timeout:1e5});l.instance.interceptors.request.use(function(e){return e.headers.Authorization=localStorage.getItem("token"),e},function(e){return Promise.reject(e)}),l.instance.interceptors.response.use(function(e){return"success"!==e.data.code?(n.FN.show({content:e.data.msg||"请求失败",icon:"fail"}),Promise.reject(e)):e.data},function(e){return 401===e.status&&window.location.replace("/login"),Promise.reject(e)});let c=l},448:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(4297),a=s(5803),i=s(1928),o=s(4569),n=s(3776);function l(){let[e]=i.l0.useForm(),t=(0,n.useRouter)(),[s,l]=(0,a.useState)(!1),c=async()=>{let s=await e.validateFields(),r=await o.Z.anon.authLogin({...s});localStorage.setItem("token",r?.token),i.FN.show({content:"登录成功",icon:"success",afterClose:()=>{t.replace("/nav/home")}})},u=async()=>{let t=await e.validateFields();await o.Z.anon.authRegister({...t}),i.FN.show({content:"注册成功, 请登录",icon:"success"}),l(!1)};return(0,r.jsxs)("div",{className:"flex flex-col  items-center h-full text-black pt-40 px-6",children:[r.jsx("div",{className:"text-2xl font-bold",children:"登录"}),(0,r.jsxs)(i.l0,{form:e,layout:"horizontal",className:" py-4 px-0 w-full",children:[r.jsx(i.l0.Item,{name:"name",label:"用户名",rules:[{required:!0}],children:r.jsx(i.II,{placeholder:"请输入用户名"})}),r.jsx(i.l0.Item,{name:"pwd",label:"密码",rules:[{required:!0,message:"请输入密码"}],children:r.jsx(i.II,{placeholder:"请输入密码",type:"password"})})]}),s?(0,r.jsxs)("div",{className:"w-full mt-8 flex justify-between",children:[r.jsx(i.zx,{onClick:()=>l(!1),size:"large",className:"w-1/5",children:"返回"}),r.jsx(i.zx,{color:"primary",size:"large",className:"w-4/5",style:{marginLeft:"10px"},onClick:u,children:"注册"})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"mt-8 w-full",children:r.jsx(i.zx,{color:"primary",block:!0,size:"large",onClick:c,children:"登录"})}),r.jsx("div",{className:"mt-8 w-full",children:r.jsx(i.zx,{color:"primary",block:!0,size:"large",fill:"none",onClick:()=>l(!0),children:"注册"})})]})]})}},2834:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(4297),a=s(6829),i=s(8121),o=s(3746);function n({children:e}){let t=new a.S;return(0,r.jsxs)(i.aH,{client:t,children:[e,r.jsx(o.t,{})]})}},7776:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c,metadata:()=>l});var r=s(1002);s(1005);let a=(0,s(7460).createProxy)(String.raw`/Users/chenpan/Documents/doc/my-project/what-to-eat/apps/mobile/app/povider.tsx`),{__esModule:i,$$typeof:o}=a,n=a.default,l={title:"what to eat",description:"what to eat"};function c({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{children:r.jsx(n,{children:e})})})}},8339:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>o});let r=(0,s(7460).createProxy)(String.raw`/Users/chenpan/Documents/doc/my-project/what-to-eat/apps/mobile/app/login/page.tsx`),{__esModule:a,$$typeof:i}=r,o=r.default},5543:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(1218);let a=e=>[{type:"image/x-icon",sizes:"351x392",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},1005:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[150,356,617,629],()=>s(9968));module.exports=r})();